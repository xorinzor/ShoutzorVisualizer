<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_76) on Mon Apr 25 08:51:35 UTC 2016 -->
<title>Cloner (jMonkeyEngine3)</title>
<meta name="date" content="2016-04-25">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Cloner (jMonkeyEngine3)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/jme3/util/clone/CloneFunction.html" title="interface in com.jme3.util.clone"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../com/jme3/util/clone/IdentityCloneFunction.html" title="class in com.jme3.util.clone"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/jme3/util/clone/Cloner.html" target="_top">Frames</a></li>
<li><a href="Cloner.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.jme3.util.clone</div>
<h2 title="Class Cloner" class="title">Class Cloner</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.jme3.util.clone.Cloner</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">Cloner</span>
extends java.lang.Object</pre>
<div class="block">A deep clone utility that provides similar object-graph-preserving
  qualities to typical serialization schemes.  An internal registry
  of cloned objects is kept to be used by other objects in the deep
  clone process that implement JmeCloneable.

  <p>By default, objects that do not implement JmeCloneable will
  be treated like normal Java Cloneable objects.  If the object does
  not implement the JmeCloneable or the regular JDK Cloneable interfaces
  AND has no special handling defined then an IllegalArgumentException
  will be thrown.</p>

  <p>Enhanced object cloning is done in a two step process.  First,
  the object is cloned using the normal Java clone() method and stored
  in the clone registry.  After that, if it implements JmeCloneable then
  its cloneFields() method is called to deep clone any of the fields.
  This two step process has a few benefits.  First, it means that objects
  can easily have a regular shallow clone implementation just like any
  normal Java objects.  Second, the deep cloning of fields happens after
  creation wich means that the clone is available to future field cloning
  to resolve circular references.</p>

  <p>Similar to Java serialization, the handling of specific object
  types can be customized.  This allows certain objects to be cloned gracefully
  even if they aren't normally Cloneable.  This can also be used as a
  sort of filter to keep certain types of objects from being cloned.
  (For example, adding the IdentityCloneFunction for Mesh.class would cause
  all mesh instances to be shared with the original object graph.)</p>

  <p>By default, the Cloner registers serveral default clone functions
  as follows:</p>
  <ul>
  <li>java.util.ArrayList: ListCloneFunction
  <li>java.util.LinkedList: ListCloneFunction
  <li>java.util.concurrent.CopyOnWriteArrayList: ListCloneFunction
  <li>java.util.Vector: ListCloneFunction
  <li>java.util.Stack: ListCloneFunction
  <li>com.jme3.util.SafeArrayList: ListCloneFunction
  </ul>

  <p>Usage:</p>
  <pre>
  // Example 1: using an instantiated, reusable cloner.
  Cloner cloner = new Cloner();
  Foo fooClone = cloner.clone(foo);
  cloner.clearIndex(); // prepare it for reuse
  Foo fooClone2 = cloner.clone(foo);

  // Example 2: using the utility method that self-instantiates a temporary cloner.
  Foo fooClone = Cloner.deepClone(foo);

  </pre></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../com/jme3/util/clone/Cloner.html#Cloner()">Cloner</a></strong>()</code>
<div class="block">Creates a new cloner with only default clone functions and an empty
  object index.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected &lt;T&gt;&nbsp;T</code></td>
<td class="colLast"><code><strong><a href="../../../../com/jme3/util/clone/Cloner.html#arrayClone(T)">arrayClone</a></strong>(T&nbsp;object)</code>
<div class="block">Clones a primitive array by coping it and clones an object
  array by coping it and then running each of its values through
  Cloner.clone().</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/jme3/util/clone/Cloner.html#clearIndex()">clearIndex</a></strong>()</code>
<div class="block">Clears the object index allowing the cloner to be reused for a brand new
  cloning operation.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;T</code></td>
<td class="colLast"><code><strong><a href="../../../../com/jme3/util/clone/Cloner.html#clone(T)">clone</a></strong>(T&nbsp;object)</code>
<div class="block">Deeps clones the specified object, reusing previous clones when possible.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;T</code></td>
<td class="colLast"><code><strong><a href="../../../../com/jme3/util/clone/Cloner.html#clone(T,%20boolean)">clone</a></strong>(T&nbsp;object,
     boolean&nbsp;useFunctions)</code>
<div class="block">Deeps clones the specified object, reusing previous clones when possible.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static &lt;T&gt;&nbsp;T</code></td>
<td class="colLast"><code><strong><a href="../../../../com/jme3/util/clone/Cloner.html#deepClone(T)">deepClone</a></strong>(T&nbsp;object)</code>
<div class="block">Convenience utility function that creates a new Cloner, uses it to
  deep clone the object, and then returns the result.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;<a href="../../../../com/jme3/util/clone/CloneFunction.html" title="interface in com.jme3.util.clone">CloneFunction</a>&lt;T&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../com/jme3/util/clone/Cloner.html#getCloneFunction(java.lang.Class)">getCloneFunction</a></strong>(java.lang.Class&lt;T&gt;&nbsp;type)</code>
<div class="block">Returns a previously registered clone function for the specified type or null
  if there is no custom clone function for the type.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/jme3/util/clone/Cloner.html#isCloned(java.lang.Object)">isCloned</a></strong>(java.lang.Object&nbsp;o)</code>
<div class="block">Returns true if the specified object has already been cloned
  by this cloner during this session.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;T</code></td>
<td class="colLast"><code><strong><a href="../../../../com/jme3/util/clone/Cloner.html#javaClone(T)">javaClone</a></strong>(T&nbsp;object)</code>
<div class="block">Performs a raw shallow Java clone using reflection.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/jme3/util/clone/Cloner.html#setClonedValue(T,%20T)">setClonedValue</a></strong>(T&nbsp;original,
              T&nbsp;clone)</code>
<div class="block">Forces an object to be added to the indexing cache such that attempts
  to clone the 'original' will always result in the 'clone' being returned.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/jme3/util/clone/Cloner.html#setCloneFunction(java.lang.Class,%20com.jme3.util.clone.CloneFunction)">setCloneFunction</a></strong>(java.lang.Class&lt;T&gt;&nbsp;type,
                <a href="../../../../com/jme3/util/clone/CloneFunction.html" title="interface in com.jme3.util.clone">CloneFunction</a>&lt;T&gt;&nbsp;function)</code>
<div class="block">Sets a custom CloneFunction for implementations of the specified Java type.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Cloner()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Cloner</h4>
<pre>public&nbsp;Cloner()</pre>
<div class="block">Creates a new cloner with only default clone functions and an empty
  object index.</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="deepClone(java.lang.Object)">
<!--   -->
</a><a name="deepClone(T)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deepClone</h4>
<pre>public static&nbsp;&lt;T&gt;&nbsp;T&nbsp;deepClone(T&nbsp;object)</pre>
<div class="block">Convenience utility function that creates a new Cloner, uses it to
  deep clone the object, and then returns the result.</div>
</li>
</ul>
<a name="clone(java.lang.Object)">
<!--   -->
</a><a name="clone(T)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clone</h4>
<pre>public&nbsp;&lt;T&gt;&nbsp;T&nbsp;clone(T&nbsp;object)</pre>
<div class="block">Deeps clones the specified object, reusing previous clones when possible.

  <p>Object cloning priority works as follows:</p>
  <ul>
  <li>If the object has already been cloned then its clone is returned.
  <li>If there is a custom CloneFunction then it is called to clone the object.
  <li>If the object implements Cloneable then its clone() method is called, arrays are
      deep cloned with entries passing through clone().
  <li>If the object implements JmeCloneable then its cloneFields() method is called on the
      clone.
  <li>Else an IllegalArgumentException is thrown.
  </ul>

  Note: objects returned by this method may not have yet had their cloneField()
  method called.</div>
</li>
</ul>
<a name="clone(java.lang.Object,boolean)">
<!--   -->
</a><a name="clone(T, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clone</h4>
<pre>public&nbsp;&lt;T&gt;&nbsp;T&nbsp;clone(T&nbsp;object,
          boolean&nbsp;useFunctions)</pre>
<div class="block">Deeps clones the specified object, reusing previous clones when possible.

  <p>Object cloning priority works as follows:</p>
  <ul>
  <li>If the object has already been cloned then its clone is returned.
  <li>If useFunctions is true and there is a custom CloneFunction then it is
      called to clone the object.
  <li>If the object implements Cloneable then its clone() method is called, arrays are
      deep cloned with entries passing through clone().
  <li>If the object implements JmeCloneable then its cloneFields() method is called on the
      clone.
  <li>Else an IllegalArgumentException is thrown.
  </ul>

  <p>The abililty to selectively use clone functions is useful when
  being called from a clone function.</p>

  Note: objects returned by this method may not have yet had their cloneField()
  method called.</div>
</li>
</ul>
<a name="setCloneFunction(java.lang.Class, com.jme3.util.clone.CloneFunction)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setCloneFunction</h4>
<pre>public&nbsp;&lt;T&gt;&nbsp;void&nbsp;setCloneFunction(java.lang.Class&lt;T&gt;&nbsp;type,
                        <a href="../../../../com/jme3/util/clone/CloneFunction.html" title="interface in com.jme3.util.clone">CloneFunction</a>&lt;T&gt;&nbsp;function)</pre>
<div class="block">Sets a custom CloneFunction for implementations of the specified Java type.  Some
  inheritance checks are made but no disambiguation is performed.
  <p>Note: in the general case, it is better to register against specific classes and
  not super-classes or super-interfaces unless you know specifically that they are cloneable.</p>
  <p>By default ListCloneFunction is registered for ArrayList, LinkedList, CopyOnWriteArrayList,
  Vector, Stack, and JME's SafeArrayList.</p></div>
</li>
</ul>
<a name="getCloneFunction(java.lang.Class)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCloneFunction</h4>
<pre>public&nbsp;&lt;T&gt;&nbsp;<a href="../../../../com/jme3/util/clone/CloneFunction.html" title="interface in com.jme3.util.clone">CloneFunction</a>&lt;T&gt;&nbsp;getCloneFunction(java.lang.Class&lt;T&gt;&nbsp;type)</pre>
<div class="block">Returns a previously registered clone function for the specified type or null
  if there is no custom clone function for the type.</div>
</li>
</ul>
<a name="setClonedValue(java.lang.Object,java.lang.Object)">
<!--   -->
</a><a name="setClonedValue(T, T)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setClonedValue</h4>
<pre>public&nbsp;&lt;T&gt;&nbsp;void&nbsp;setClonedValue(T&nbsp;original,
                      T&nbsp;clone)</pre>
<div class="block">Forces an object to be added to the indexing cache such that attempts
  to clone the 'original' will always result in the 'clone' being returned.
  This can be used to stub out specific values from being cloned or to
  force global shared instances to be used even if the object is cloneable
  normally.</div>
</li>
</ul>
<a name="isCloned(java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isCloned</h4>
<pre>public&nbsp;boolean&nbsp;isCloned(java.lang.Object&nbsp;o)</pre>
<div class="block">Returns true if the specified object has already been cloned
  by this cloner during this session.  Cloned objects are cached
  for later use and it's sometimes convenient to know if some
  objects have already been cloned.</div>
</li>
</ul>
<a name="clearIndex()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clearIndex</h4>
<pre>public&nbsp;void&nbsp;clearIndex()</pre>
<div class="block">Clears the object index allowing the cloner to be reused for a brand new
  cloning operation.</div>
</li>
</ul>
<a name="javaClone(java.lang.Object)">
<!--   -->
</a><a name="javaClone(T)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>javaClone</h4>
<pre>public&nbsp;&lt;T&gt;&nbsp;T&nbsp;javaClone(T&nbsp;object)
            throws java.lang.CloneNotSupportedException</pre>
<div class="block">Performs a raw shallow Java clone using reflection.  This call does NOT
  check against the clone index and so will return new objects every time
  it is called.  That's because these are shallow clones and have not (and may
  not ever, depending on the caller) get resolved.

  <p>This method is provided as a convenient way for CloneFunctions to call
  clone() and objects without necessarily knowing their real type.</p></div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.CloneNotSupportedException</code></dd></dl>
</li>
</ul>
<a name="arrayClone(java.lang.Object)">
<!--   -->
</a><a name="arrayClone(T)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>arrayClone</h4>
<pre>protected&nbsp;&lt;T&gt;&nbsp;T&nbsp;arrayClone(T&nbsp;object)</pre>
<div class="block">Clones a primitive array by coping it and clones an object
  array by coping it and then running each of its values through
  Cloner.clone().</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/jme3/util/clone/CloneFunction.html" title="interface in com.jme3.util.clone"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../com/jme3/util/clone/IdentityCloneFunction.html" title="class in com.jme3.util.clone"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/jme3/util/clone/Cloner.html" target="_top">Frames</a></li>
<li><a href="Cloner.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
